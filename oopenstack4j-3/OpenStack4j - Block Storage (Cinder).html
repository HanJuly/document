<!DOCTYPE html>
<!-- saved from url=(0045)http://www.openstack4j.com/learn/blockstorage -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="msvalidate.01" content="7241C7220434CF221FAA89EEBBCA488F">
    
    <title>OpenStack4j - Block Storage (Cinder)</title>
    <meta name="description" content="OpenStack4j is a fluent Java OpenStack client SDK which allows provisioning and control of an OpenStack deployment.">
    <meta name="author" content="Jeremy Unruh">
    <meta name="keywords" content="OpenStack, Java, SDK, Orchestration Java, Pacesys, Fluent, Compute, Identity, Network, Image, Maangement">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Styles and icons -->
	<!--
	    <link rel="stylesheet" href="/css/bootstrap.min.css">
	    <link rel="stylesheet" href="/css/bootstrap-responsive.min.css">
	-->
    <link href="./OpenStack4j - Block Storage (Cinder)_files/bootstrap.min.css" rel="stylesheet">
	<link href="./OpenStack4j - Block Storage (Cinder)_files/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./OpenStack4j - Block Storage (Cinder)_files/prettify.css">
    <link rel="stylesheet" href="./OpenStack4j - Block Storage (Cinder)_files/css.css">
    <link rel="shortcut icon" href="http://www.openstack4j.com/assets/img/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <script type="text/javascript" async="" src="./OpenStack4j - Block Storage (Cinder)_files/linkid.js.下载"></script><script async="" src="./OpenStack4j - Block Storage (Cinder)_files/analytics.js.下载"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49467301-1', 'openstack4j.com');
  ga('require', 'displayfeatures');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script></head>


  <body data-spy="scroll" data-target=".bs-docs-sidebar">

    <div id="wrapper">
      <div id="wrapper-inner">
            <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav-collapse">
	        <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          <div class="collapse navbar-collapse" id="nav-collapse">
            <ul id="navlist" class="nav navbar-nav">
              <li id="navindex"><a href="http://www.openstack4j.com/">Home</a></li>
              <li class="active"><a href="http://www.openstack4j.com/learn">Docs</a></li>
              <li><a href="http://www.openstack4j.com/javadoc/" target="_blank">JavaDoc</a></li>
              <li><a href="https://github.com/ContainX/openstack4j/issues" target="_blank">Issues</a></li>
            </ul>
			<ul class="nav navbar-nav navbar-right">
				<li><a href="https://github.com/ContainX/openstack4j" target="_blank" title="Fork OS4j on GitHub"><i class="fa fa-github fa-2x"></i></a></li>
			    <li><a href="http://twitter.com/openstack4j" target="_blank" title="Follow OS4j on Twitter"><i class="fa fa-twitter fa-2x"></i></a></li>
			    <li><a href="https://www.linkedin.com/in/jeremyunruh1" target="_blank" title="Add me on Linked"><i class="fa fa-linkedin fa-2x"></i></a></li>

				<li><a href="http://groups.google.com/group/openstack4j" target="_blank" title="Questions? Visit our Google Group"><i class="fa fa-comment fa-2x"></i></a></li>

				<li><p class="version-tag"><span style="color:#08c">REL:</span> 3.0.3 | <span style="color:#08c">DEV:</span> 3.0.4-SNAPSHOT</p></li>
			</ul>
			</div>
		  </div>

        </div>
    </div>

		<div class="pagecrumb-pre">
<div class="jumbotron mainheader pagecrumb">
	 <div class="container">
		
			<h2 class="pagecrumb-text">OpenStack4j <small>&gt; Documentation / Block Storage (Cinder)</small></h2>
		
     </div>
</div>
</div>
        <div class="container">
          <div id="docs" class="row affix-row">
            <div class="col-md-3 navbar-full">
	<div class="affix-sidebar">
		<h4><span class="label label-primary">General</span></h4>
		<ul class="sidenav">
			
			<li>
				<a href="http://www.openstack4j.com/learn">What is OpenStack4j</a>
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/getting-started">Getting Started</a>
			</li>
			
		</ul>
		<h4><span class="label label-danger">OpenStack Services</span></h4>
		<ul class="sidenav">
			<li>
				<a href="http://www.openstack4j.com/learn/identity/identity-v2">Identity (Keystone) V2</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/identity/identity-v3">Identity (Keystone) V3</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/compute">Compute (Nova)</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/network">Network (Neutron)</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/image">Images (Glance)</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/image-v2">Images (Glance) V2</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/blockstorage">Block Storage (Cinder)</a>
				
				<ul>
					<li>
						<a href="http://www.openstack4j.com/learn/blockstorage/#volume-types">Volume Types</a>
					</li>
					<li>
						<a href="http://www.openstack4j.com/learn/blockstorage/#volumes">Volumes</a>
					</li>
					<li>
						<a href="http://www.openstack4j.com/learn/blockstorage/#snapshots">Snapshots</a>
					</li>
				</ul>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/objectstorage">Object Storage (Swift)</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/telemetry">Telemetry (Ceilometer)</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/orchestration">Orchestration (Heat)</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/data-processing">Data Processing (Sahara)</a>
				
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/trove">Database as a Service (Trove)</a>
			</li>	
			<li>
				<a href="http://www.openstack4j.com/learn/magnum">Magnum</a>
					
			</li>
			<li>
				<a href="http://www.openstack4j.com/learn/dns-v2">DNS (Designate) V2</a>
				
			</li>
			
		</ul>
	</div>
</div>

            <div class="col-md-9">
              <div id="content" class="affix-content">
              <h1 id="block-storage-cinder">Block Storage (Cinder)</h1>

<p>The Block Storage Service is a block-level storage solution that enables you to mount drives to cloud servers to scale storage without paying for more compute resources.  It can also be leveraged as high performance storage to server database or I/O-intensive applications.</p>

<p>Openstack4j enables you to interact programmatically to fully support management of Volumes, Volume Types and Volume Snapshots</p>

<h2 id="volume-types">Volume Types</h2>

<p>A volume type is a descriptor for a block storage volume. You can define whatever types meet your business needs, such as SSD, SCSI, SATA, Backup, etc.  You can also provides extra specifications describing extended details about the type. Volumes can be associated to a Volume Type.</p>

<h4 id="listing-volume-types">Listing Volume Types</h4>

<p>To retrieve available volume types see the example below:</p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>List&lt;? extends VolumeType&gt; types = os.blockStorage().volumes().listVolumeTypes();
</code></pre>
</div>

<h2 id="volumes">Volumes</h2>

<p>A volume is a detachable block storage device. You can think of it as an external drive and can only be attached to one instance at a time. Volumes can be created as a simple storage device, reference to an image (bootable or non-bootable such as a ISO), reference to an existing volume or a reference to an existing snapshot.</p>

<h4 id="querying-for-volumes">Querying for Volumes</h4>

<p><strong>Listing all Volumes the current tenant making the request has access to</strong></p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>List&lt;? extends Volume&gt; volumes = os.blockStorage().volumes().list();
</code></pre>
</div>

<p><strong>Getting a Volume by ID</strong></p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>Volume volume = os.blockStorage().volumes().get("volumeId");
</code></pre>
</div>

<h4 id="create-update-and-deleting-volumes">Create, Update and Deleting Volumes</h4>

<p><strong>Create a Storage Volume</strong></p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>Volume v = os.blockStorage().volumes()
             .create(Builders.volume()
                .name("Backup Volume")
                .description("Simple volume to store backups on")
                .size(20)
                .build()
             );
</code></pre>
</div>

<p><strong>Create a Bootable Volume from an Image</strong></p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>Volume v = os.blockStorage().volumes()
             .create(Builders.volume()
                .name("Ubuntu 12.04 LTS")
                .description("Bootable install volume")
                .imageRef("imageId")
                .bootable(true)
                .build()
             );
</code></pre>
</div>

<p><strong>Updating the name and description of a Volume</strong></p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>os.blockStorage().volumes().update("volumeId", "New Name", "New Description");
</code></pre>
</div>

<p><strong>Deleting a Volume</strong></p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>os.blockStorage().volumes().delete("volumeId");
</code></pre>
</div>

<h2 id="snapshots">Snapshots</h2>

<p>A snapshot is a point in time copy of the data that is contained in a volume.  See the examples below on managing snapshots with OpenStack4j.</p>

<h4 id="querying-for-snapshots">Querying for Snapshots</h4>

<p><strong>Listing all Snapshots the current tenant making the request has access to</strong></p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>List&lt;? extends VolumeSnapshot&gt; snapshots = os.blockStorage().snapshots().list();
</code></pre>
</div>

<p><strong>Getting a Snapshot by ID</strong></p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>Snapshot snapshot = os.blockStorage().snapshots().get("snapshotId");
</code></pre>
</div>

<h4 id="creating-a-snapshot">Creating a Snapshot</h4>

<p>When creating a Snapshot make note that the Volume Identifier is required.  All other fields are optional. If the volume identifier is not defined then a <code class="highlighter-rouge">NullPointerException</code> will be thrown.</p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>Snapshot snapshot = os.blockStorage().snapshots()
                      .create(Builders.volumeSnapshot()
                         .name("Snapshot 2014-01-01 - Before Upgrade")
                         .description("Snapshot before we migrate data to v2")
                         .volume("volumeId")
                         .build()
                      );
</code></pre>
</div>

<h4 id="updating-a-snapshot">Updating a Snapshot</h4>

<p>Since a snapshot is a frozen copy of a point in time OpenStack only allows for updating the name and description. See the example below</p>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>os.blockStorage().snapshots().update("snapshotId", "New Name", "New Description");
</code></pre>
</div>

<h4 id="deleting-a-snapshot">Deleting a Snapshot</h4>

<div class="prettyprint lang-java highlighter-rouge"><pre class="highlight"><code>os.blockStorage().snapshots().delete("snapshotId");
</code></pre>
</div>

              </div>
            </div>
          </div>
        </div>
            <footer id="footer" class="footer">
      <div class="container" height="100%">
        <p>Copyright 2016 <a href="https://github.com/ContainX">ContainX / OpenStack4j</a>. Licensed under the <a href="http://opensource.org/licenses/Apache-2.0" target="_blank">Apache 2.0 License</a>.<a href="https://github.com/gondor/openstack4j" target="_blank" title="Fork Me on GitHub">
	&nbsp;<i class="fa fa-github fa-2x"></i></a>
			    <a href="http://twitter.com/openstack4j" target="_blank" title="Follow us on Twitter"><i class="fa fa-twitter fa-2x"></i></a>
				<a href="http://groups.google.com/group/openstack4j" target="_blank" title="Questions? Visit our Google Group"><i class="fa fa-comment fa-2x"></i></a>
</p>
      </div>
    </footer>

      </div>
    

	   <script src="./OpenStack4j - Block Storage (Cinder)_files/jquery-1.11.1.min.js.下载"></script>
	<!--
	    <script src="/assets/js/jquery.min.js"></script>
	    <script src="/assets/js/bootstrap.min.js"></script>
	-->
	<script src="./OpenStack4j - Block Storage (Cinder)_files/bootstrap.min.js.下载"></script>
    <script src="./OpenStack4j - Block Storage (Cinder)_files/prettify.js.下载"></script>
    <script src="./OpenStack4j - Block Storage (Cinder)_files/application.js.下载"></script>
  
</body></html>